!function(n){if("object"==typeof exports)module.exports=n();else if("function"==typeof define&&define.amd)define(n);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.ContainerModule=n()}}(function(){return function n(t,r,e){function i(s,u){if(!r[s]){if(!t[s]){var f="function"==typeof require&&require;if(!u&&f)return f(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var R=r[s]={exports:{}};t[s][0].call(R.exports,function(n){var r=t[s][1][n];return i(r?r:n)},R,R.exports,n,t,r,e)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<e.length;s++)i(e[s]);return i}({1:[function(n,t,r){t.exports=n("./lib/ioc")},{"./lib/ioc":2}],2:[function(n,t,r){function e(){this._modules={}}function i(n,t,r){if(!n.isReady()){if(t.indexOf(n._name)!==-1)throw new Error(s.format(u.ERROR_CIRCULAR_DEPENDENCY,[n._name]));var e=[];n._deps.forEach(function(o){if(!s.isDefined(r[o]))throw new Error(s.format(u.ERROR_MODULE_NOT_FOUND,[o]));r[o].isReady()||(t.push(n._name),i(r[o],t,r),t.pop()),e.push(r[o].getInstance())}),n.build(e)}}var o=n("./module"),s=n("./utils"),u=n("./strings");e.prototype.register=function(n,t,r){if(!s.isString(n))throw new Error(u.ERROR_MODULE_NAME_INCORRECT);if(s.isDefined(this._modules[n]))throw new Error(u.ERROR_MODULE_ALREADY_DEFINED);if(s.isFunction(t)&&(r=t,t=[]),!s.isArray(t)||!s.isFunction(r))throw new Error(u.ERROR_PARAMETERS_INCORRECT);return this._modules[n]=new o(n,t,r),this},e.prototype.resolve=function(n){if(!s.isDefined(this._modules[n]))throw new Error(s.format(u.ERROR_MODULE_NOT_FOUND,[n]));return this._modules[n].getInstance()},e.prototype.init=function(){for(var n in this._modules)this._modules.hasOwnProperty(n)&&i(this._modules[n],[],this._modules);return this},t.exports=e},{"./module":3,"./strings":4,"./utils":5}],3:[function(n,t,r){function e(n,t,r){this._name=n,this._deps=t,this._ctor=r}var i=n("./utils"),o=n("./strings");e.prototype.isReady=function(){return i.isDefined(this._instance)},e.prototype.build=function(n){if(this.isReady())throw new Error(o.ERROR_MODULE_ALREADY_INITIALIZED);if(this._instance=this._ctor.apply(null,n),!this.isReady())throw new Error(o.ERROR_MODULE_INITIALIZE)},e.prototype.getInstance=function(){if(!this.isReady())throw new Error(o.ERROR_MODULE_NOT_INITIALIZED);return this._instance},t.exports=e},{"./strings":4,"./utils":5}],4:[function(n,t,r){t.exports={ERROR_CIRCULAR_DEPENDENCY:"Циклическая зависимость сервиса {0}",ERROR_MODULE_ALREADY_DEFINED:"Сервис уже определен",ERROR_MODULE_ALREADY_INITIALIZED:"Сервис уже проинициализирован",ERROR_MODULE_INITIALIZE:"Ошибка при инициализации сервиса",ERROR_MODULE_NAME_INCORRECT:"Некорректное имя сервиса",ERROR_MODULE_NOT_INITIALIZED:"Сервис не проинициализирован",ERROR_MODULE_NOT_FOUND:"Сервис {0} не найден",ERROR_PARAMETERS_INCORRECT:"Некорректные параметры"}},{}],5:[function(n,t,r){function e(n){return"string"==typeof n}function i(n){return"function"==typeof n}function o(n){return Array.isArray(n)}function s(n){return"undefined"!=typeof n}function u(n,t){return n.replace(/\{(\d+)}/g,function(n,r){return t[parseInt(r)]})}function f(){var n=Array.prototype.slice.call(arguments),t=n[0];if(n.length<2)return t;for(var r=1;r<n.length;r++){var e=n[r];for(var i in e)e.hasOwnProperty(i)&&e[i]&&(t[i]=e[i])}return t}r.isString=e,r.isFunction=i,r.isArray=o,r.isDefined=s,r.format=u,r.extend=f},{}]},{},[1])(1)});